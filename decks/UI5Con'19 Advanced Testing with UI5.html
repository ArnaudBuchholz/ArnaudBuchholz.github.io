<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="description" content="UI5Con'19 Advanced Testing with UI5">
		<meta name="author" content="Arnaud Buchholz">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<meta name="deck-duration" content="30">
		<link rel="stylesheet" type="text/css" href="styles.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<table>
							<tr>
								<td width="50%">
									<small>
										<a href="https://en.wikipedia.org/wiki/Advanced_Test_Reactor">Advanced test reactor
											<img src="UI5Con'19 Advanced Testing with UI5/Advanced_Test_Reactor.jpg" style="margin: 0; border: 0; box-shadow: unset; border-radius: 16px;"></img>
										</a>
									</small>
								</td>
								<td style="vertical-align: top;">
									<h3 data-agenda="no">Advanced <strong>Testing</strong> with <strong>UI5</strong></h3>
									<p>
										<small>
											Presented by <a href="https://github.com/ArnaudBuchholz">Arnaud Buchholz</a>
											<br/>
											Presentation made with <a href="https://github.com/hakimel/reveal.js">Reveal.js</a>
										</small>
									</p>
									<br />
									<img src="UI5Con'18 A journey with OPA/OpenUI5_new_big_side.png" height="75px" style="border: 0;" />
									<img src="UI5Con'18 A journey with OPA/UI5Con.png" height="75px" style="border: 0;" />
								</td>
							</tr>
						</table>
					</section>
					<section include="me.html"></section>
					<section>
						<h3 data-agenda="no"><strong>Agenda</strong></h3>
						<ul id="agenda"></ul>
					</section>
					<section>
						<h4>Presented <img src="/gfx/GitHub.png" style="margin: 0; border: 0; box-shadow: unset;" /><strong>projects</strong></h4>
						<ul>
							<li>
								<a href="https://openui5.org/">OpenUI5</a><br />
								<small>An enterprise-grade, responsive &amp; open source <strong>UI framework</strong></small>
							</li>
							<li>
								<a href="https://github.com/ArnaudBuchholz/training-ui5Con18-opa">training-ui5con18-opa</a><br />
								<small>A <strong>todo list</strong> developed with <strong>OpenUI5</strong> to <strong>illustrate</strong></a> the testing concepts</small>
							</li>
							<li>
								<a href="https://github.com/jsdom/jsdom">jsdom</a><br />
								<small>A JavaScript implementation of the <strong>WHATWG DOM and HTML standards</strong>, for use with <strong>node.js</strong></small>
							</li>
							<li>
								<a href="https://github.com/ArnaudBuchholz/node-ui5">node-ui5</a><br />
								<small>An <strong>Node.js</strong> wrapper for <strong>OpenUI5</strong>, enabling advanced testing</small>
							</li>
						</ul>
						<p>
						</p>
					</section>
					<section>
						<h4><strong>About</strong> the presentation</h4>
						<ul>
							<li class="fragment">There is <strong>more than UI</strong> in UI5</li>
							<li class="fragment"><a href="https://github.com/SAP/ui5-tooling"><strong>UI5 tooling</strong></a> is the <strong>recommended</strong> solution for UI5 development</li>
							<br />
							<li class="fragment">This presentation is about <strong>unusual ways of leveraging UI5</strong> to test your development</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h3>UI5Con<strong>'18</strong></h3>
					</section>
					<section>
						<img src="From OPA to Node-UI5/UI5Con18.jpg" style="border: 0; max-width: 50%; max-height: 50%;" />
						<br />
						<small><a href="https://openui5.org/ui5con/material2018.html">UI5 sessions 2018</a></small>
						<p>I presented <strong>A journey with OPA</strong> at UI5Con<strong>'18</strong></p>
					</section>
					<section>
						<h4>A journey with <strong>O</strong>ne <strong>P</strong>age <strong>A</strong>cceptance</h4>
						<ul>
							<li><strong>UI behavior</strong> testing</li>
							<li><strong>JavaScript</strong> based</li>
							<li>Tightly <strong>integrated</strong> with UI5</li>
							<li><strong>Asynchronous</strong> with <strong>active polling</strong> mechanisms</li>
							<li>Enables <strong>T</strong>est-<strong>D</strong>riven <strong>D</strong>evelopment through <strong>abstractions</strong></li>
						</ul>
					</section>
					<section>
						<h4>What is <strong>OPA</strong>?</h4>
						<p>OPA is a set of tools used to <strong>automate</strong> and <strong>validate</strong> UI
							and it comes with <strong>backend mocking</strong>.</p>
						<br/>
						<p>Tests are organized in <strong>Journeys</strong>, based on <strong>Pages</strong>
							to provide a <strong>readable abstraction</strong> of the UI.</p>
					</section>
					<section>
						<h4>The <strong>need</strong> for a backend</h4>
						<p>When the application has a backend counterpart, it <strong>can't run</strong> without being connected to it.</p>
						<p>However, tests have to rely on a <strong>stable dataset</strong> and some features might be <strong>dangerous</strong>.</p>
					</section>
					<section>
						<h4>Introducing the <strong>MockServer</strong></h4>
						<img src="UI5Con'18 A journey with OPA/MockServer.png" style="border: 0; max-width: 40%; max-height: 40%;" align="left"/>
						<br/>
						<p>The MockServer is a software component that <strong>captures</strong> AJAX requests and either <strong>answer them</strong> or <strong>let them reach</strong> the backend.<p>
					</section>
					<section>
						<h4><strong>DEMO</strong> Automated tests samples</h4>
						<small>
							<a href="http://localhost:8080/index.html">Application</a>
							<a href="http://localhost:8080/test/integration/opaTests.qunit.html">OPA tests</a>
						</small>
					</section>
					<section>
						<h4><strong>Learn</strong> more</h4>
						<br/>
						<a href="https://youtu.be/HiZq-kuIbt0">
							<img src="From OPA to Node-UI5/UI5con@SAP 2018 - A journey with OPA.png" style="border: 0; max-width: 50%; max-height: 50%;" />
						</a>
						<br />
						<small><a href="https://github.com/ArnaudBuchholz/training-ui5con18-opa">training-ui5con18-opa</a></small>
					</section>
				</section>
				<section>
					<section>
						<h3>MockServer as a <strong>real</strong> server</h3>
					</section>
					<section>
						<h4>The <strong>request</strong></h4>
						<p>3 months later, a <strong>colleague</strong> contacted me with a strange <strong>request</strong>.<p>
						<p>His team needed a <strong>fake ODATA server</strong> to validate an unusual network configuration.</p>
					</section>
					<section>
						<h4>His <strong>prototype</strong></h4>
						<img src="From OPA to Node-UI5/MockServer server old.png" style="border: 0; max-width: 80%; max-height: 60%;" />
					</section>
					<section>
						<q>There must be a better way !</q>
						<p class="fragment">Why not running UI5 <strong>in</strong> Node.js ?</p>
					</section>
					<section>
						<h4>Introducing <strong>jsdom</strong></h4>
						<p>jsdom <strong>simulates</strong> a browser <strong>inside</strong> Node.js.</p>
						<pre><code>const dom = new JSDOM(``, {
  url: "https://example.org/",
  referrer: "https://example.com/",
  contentType: "text/html",
  includeNodeLocations: true,
  storageQuota: 10000000
});</pre></code>
						<small><a href="https://github.com/jsdom/jsdom">https://github.com/jsdom/jsdom</a></small>
					</section>
					<section>
						<h4>jsdom <strong>Challenges</strong></h4>
						<ul>
							<li>No <strong>synchronous</strong> requests</li>
							<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS"><strong>CORS</strong></a></li>
							<li>Environments are <strong>isolated</strong><br />
								<i><small>(not able to run Node.js code in loaded scripts)</small></i></li>
						</ul>
					</section>
					<section>
						<h4>Rewriting <strong>XMLHttpRequest</strong></h4>
						<ul>
							<li>Enables loading of <strong>file system resources</strong></li>
							<li>Remote resources are handled <strong>natively</strong></li>
							<li>Synchronous code is handled with <a href="https://www.npmjs.com/package/deasync"><strong>DeAsync.js</strong></a></li>
						</ul>
					</section>
					<section>
						<h4><strong>DEMO</strong> MockServer server</h4>
						<small>
							<a href="http://localhost:8080/odata/TODO_SRV/$metadata">$metadata</a>
							<a href="http://localhost:8080/index.html?no-mock">Application</a>
						</small>
					</section>
				</section>
				<section>
					<section>
						<h3>UI5 <strong>inside</strong> Node.js</h3>
					</section>
					<section>
						<p>The server experiment demonstrated that it is possible to <strong>load OpenUI5 in Node.js</strong>.</p>
					</section>
					<section>
						<q>What else can we do ?</q>
						<br />
						<q class="fragment">Anything !</q>
					</section>
					<section>
						<h4>Introducing <strong>node-ui5</strong></h4>
						<small><a href="https://www.npmjs.com/package/node-ui5">https://www.npmjs.com/package/node-ui5</a></small>
						<p>node-ui5 gives you access to OpenUI5 <strong>in</strong> Node.js.</p>
						<pre><code>require('node-ui5').then(({sap}) => {
  // use sap...
})</pre></code>
					</section>
					<section>
						<h4><strong>DEMO</strong> MockServer server implementation</h4>
					</section>
				</section>
				<section>
					<section>
						<h3>Act IV: <strong>OData</strong> testing with UI5</h3>
					</section>
				</section>
				<section>
					<section>
						<h3>Act V: OPA <strong>end-to-end</strong></h3>
					</section>
				</section>
				<section>
					<h3>Key <strong>Take-Aways</strong></h3>
					<ul>
						<li><strong>OpenUI5</strong> is a <strong>enterprise-grade</strong> and <strong>evolving</strong> UI framework</li>
						<li><strong>jsdom</strong> simulates browser <strong>inside</strong> Node.js</li>
						<li>Experimenting is <strong>fun</strong> and leads to <strong>new ideas</strong></li>
					</ul>
				</section>
			</div>
		</div>
		<script src="/gpf/0.2.9/gpf.js"></script>
		<script src="training-ui5con18-opa.js"></script>
		<script src="deck.js"></script>
	</body>
</html>
