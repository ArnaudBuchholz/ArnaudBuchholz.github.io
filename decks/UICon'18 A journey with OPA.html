<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>UICon'18 A journey with OPA</title>
        <meta name="description" content="UICon'18 A journey with OPA">
		<meta name="author" content="Arnaud Buchholz">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
        <style>

.reveal h3, .reveal h4 {
	padding-bottom: 5rem;
}

.reveal cite {
	font-size: 50%;
	font-style: italic;
}

strong {
    color: rgb(253, 164, 44);
}

q {
	quotes: "\00AB" "\00BB"
}

.TODO {
	background-color: #FFFFA5;
}

.TODO::before {
	content: "TODO";
	font-size: small;
}

        </style>
    </head>
	<body>
		<div class="reveal">
			<div class="slides">
                <section>
					<section>
	                    <h3>A journey with <strong>OPA</strong></h3>
						<p>
							<small>
								Presented by <a href="https://github.com/ArnaudBuchholz">Arnaud Buchholz</a>
								<br/>
								Presentation made with <a href="https://github.com/hakimel/reveal.js">Reveal.js</a>
							</small>
						</p>
	                    <img src="http://openui5.org/images/OpenUI5_new_big_side.png" height="100px" style="border: 0;" />
	                    <img src="http://openui5.org/ui5con/ebd3caeffacf9106b0b4d9f7ff31d6be.png" height="100px" style="border: 0;" />
					</section>
					<section>
	                    <h3>Arnaud <strong>Buchholz</strong></h3>
	                    <table>
	                        <tr>
	                            <td width="25%">
	                                <img src="/gfx/me40.png">
	                            </td>
	                            <td  style="vertical-align: top;">
		                            <small>
		                                <ul>
		                                    <li>Development Expert @ SAP</li>
		                                    <li>In the software industry for <strong><span id="software_years"></span> years</strong></li>
		                                    <li><strong><span id="js_years"></span> years</strong> of experience with <strong>JavaScript</strong>
		                                        <ul>
		                                            <li>Front-End development: <span id="fe_years"></span> years</li>
		                                            <li>SapUI5: <span id="ui5_years"></span> years</li>
		                                        </ul>
		                                    </li>
		                                    <li>Passionate, curious &amp; experimenting</li>
		                                    <li>French and almost <strong>Canadian</strong></li>
		                                </ul>
		                            </small>
									<script>
										var year = new Date().getFullYear(),
											years = {
												software: 1998,
												js: 2008,
												fe: 2013,
												ui5: 2015
											};
										Object.keys(years).forEach(function (id) {
											document.getElementById(id + "_years").innerHTML = year - years[id];
										});
									</script>
	                            </td>
	                        </tr>
	                        <tr>
	                            <td colspan="2" style="border: 0;">
	                                <a href="https://ca.linkedin.com/in/arnaudbuchholz"><img src="/gfx/LinkedIn.png" style="border: 0; box-shadow: unset;" /></a>
	                                <a href="https://github.com/ArnaudBuchholz"><img src="/gfx/GitHub.png" style="border: 0; box-shadow: unset;" /></a>
									<a href="http://gpf-js.blogspot.com"><img src="/gfx/Blogger.png" style="border: 0; box-shadow: unset;" /></a>
	                            </td>
	                        </tr>
	                    </table>
	                </section>
					<section>
						<h3><strong>Agenda</strong></h3>
						<ul>
							<li>Why <strong>automated</strong> testing?</li>
							<li>OPA <strong>Presentation</strong></li>
							<li><strong>Journeys</strong> & Pages</li>
							<li>Anatomy of <strong>waitFor</strong></li>
							<li><strong>Mocking</strong> Backend</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h3>Why <strong>automated</strong> testing?</h3>
					</section>
					<section>
						<q>If it's not tested, it doesn't work</q>
						<img src="/gfx/deadpool common sense.png" style="border: 0;" />
						<p>
							<i class="fragment" style="font-size: smaller;">Need I say more?</i>
						</p>
					</section>
					<section>
						<h4><strong>Automated</strong> vs manual testing</h4>
						<p>As the code <strong>complexity grows</strong>, it takes more and <strong>more time</strong>
						to test the software manually.</p>
						<p>The only <strong>sustainable</strong> solution is to automate the tests
							and have them <strong>run fast</strong>.</p>
					</section>
					<section>
						<h4>Some <strong>drawbacks</strong> of automated testing</h4>
						<p>
							<q>It takes too much time</q><cite>Some Product Owners...</cite>
						</p>
						<p>This is a <strong>short term</strong> vision of automated testing:
							by reducing the number of bugs and maximizing the quality, you end up doing
							<strong>more features</strong> and <strong>less bug fixing</strong>.
						</p>
						<q>Go slow to go fast</q>
					</section>
					<section>
						<h4>Some <strong>advantages</strong> of automated testing</h4>
						<p>
							<q>Code never lies, comments sometimes do</q><cite>Ron Jeffries</cite>
						</p>
						<p>
							Automated tests ensure the <strong>proper documentation</strong> of the software:
							they showcase the application features.
						</p>
						<p>
							Tests secure <strong>future code</strong>,
							enabling fast <strong>non-regression</strong> testing.
						</p>
					</section>
					<section>
						<h4><strong>Unit</strong> testing vs <strong>Integration</strong> testing</h4>
						<p>
							<strong>Mazimize</strong> unit testing: they must be <strong>fast</strong> and
							they ensure <strong>code modularity</strong>
						</p>
						<p>
							<strong>Leverage</strong> integration testing to check the <strong>happy path</strong> and
							<strong>edge cases</strong>.
						</p>
						<p>
							Don't forget the <strong>The Pareto principle</strong>.
							<small>(a.k.a. the 80 / 20 rule)</small>
						</p>
					</section>
					<section>
						<h4><strong>Assessing</strong> test coverage</h4>
						<p>
							There are many ways to <strong>quantify</strong> the tests coverage:
							<ul>
								<li class="fragment">Number of scenarios tested</li>
								<li class="fragment">Number of acceptance criterias tested</li>
								<li class="fragment">Code coverage</li>
							</ul>
						</p>
					</section>
					<section>
						<h4><strong>Limits</strong> of code coverage</h4>
						<p>
							Code coverage gives you insights on which lines of code were executed.
							However, it does not mean that <strong>all scenarios</strong> were executed.
							<pre><code data-trim data-noescape>
								function divide (dividend, divisor) {
									return dividend / divisor;
								}

								assert(divide(2,2) === 1);
							</code></pre>
						</p>
					</section>
				</section>
				<section>
					<section>
						<h3><strong>OPA</strong> Presentation</h3>
					</section>
					<section>
						<h3><strong>O</strong>ne <strong>P</strong>age <strong>A</strong>cceptance Tests</h3>
						<ul>
							<li><strong>JavaScript</strong> based</li>
							<li>Tightly <strong>integrated</strong> with UI5</li>
							<li><strong>Asynchronous</strong> with active polling mechanisms</li>
							<li>Enables test-driven development (TDD) through <strong>abstractions</strong></li>
						</ul>
					</section>
					<section>
						<h3>What is OPA?</h3>
						<p class="TODO">
							Integration testing with a simulated backend (MockServer).
							Tests are written in Journeys, based on Pages that abstract the UI.
							For instance:
						</p>
						<pre><code data-trim data-noescape>
							opaTest("Display currency change is reflected in the Gantt chart",
								function(Given, When, Then) {
									Given.iStartMyApp();
									When.onTheWorklistPage.iPressATableItemAtPosition(2);
									When.onTheOverviewPage.iChangeTheCurrency("CAD");
									Then.onTheOverviewPage.iSeeCurrencyInTheGanttChart("CAD");
									Then.iTeardownMyAppFrame();
								});
						</code></pre>
					</section>
					<section>
						<h3><strong>Flavors</strong> of OPA</h3>
						<ul>
							<li>Window / iFrame isolation (explain subtle issues with instanceof Array / Date that doesn't work properly)</li>
							<li>Component running (same window)</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h3>Pages & Journeys</h3>
					</section>
					<section>
						<h4>Pages</h4>
						They represent UI <strong>abstraction</strong>
					</section>
					<section>
						<h4>Journeys</h4>
						Given, When, Then
						BDD
					</section>
				</section>
				<section>
					<section>
						<h3>Anatomy of <strong>waitFor</strong></h3>
					</section>
					<section>
						<h4>Presentation of waitFor</h4>
						Synchronize the asynchronous
						Unique mechanism to synchronize, locate and interact with UI5 controls
					</section>
					<section>
						<h4>Filtering options</h4>
						<ul>
							<li>id: string or regexp</li>
							<li>controlType: class or base class</li>
							<li>viewNamespace & viewName</li>
						</ul>
						When nothing found, polling until timeout
					</section>
					<section>
						<h4>Matchers</h4>
						Given the items resulting from the filtering options
						Can filter out / replace one by one
						Falsy value => removed
						When no result left, polling until timeout
					</section>
					<section>
						<h4>Checker</h4>
						Given the item(s) resulting from the filtering options & matchers
						Can accept or reject all results

						When false, polling until timeout
					</section>
					<section>
						<h4>actions</h4>
						Given the item(s) resulting from the filtering options, matchers & Checker

						Actions is executed on all results:
						<ul>
							<li>Press</li>
							<li>EnterText</li>
						</ul>
						These classes are capable of adapting to the target control.
						For instance, Press on a search field will trigger the search and EnterText will enter search
						criteria.
					</section>
					<section>
						<h4>success</h4>
						Final step of the waitFor
						Should never test control state in success: if failed, the whole test fails
						Can chain to a subsequent waitFor

						RATHER fail on a timeout than in a success method
					</section>
					<section>
						<h4>autoWait and timeout</h4>
						Controls states are tested to check that they are 'available' and 'interactable'
					</section>
				</section>
				<section>
					<section>
						<h3><strong>Mocking</strong> Backend</h3>
					</section>
					<section>
						<h4>Backend</h4>
						- **CRUD** on entities
						- **Entities** storage & generation
						- **Request** mocking

					</section>
					<section>
						<h4>MockServer</h4>
					</section>
				</section>
				<section>
					<section>
						<h3><strong>Our</strong> initiatives</h3>
					</section>
					<section>
						<h4>Automatic Performance <strong>monitoring</strong></h4>
					</section>
					<section>
						<h4><strong>Extensibility</strong> & Runtime Adaptation</h4>
					</section>
				</section>
            </div>
        </div>
		<script src="http://arnaudbuchholz.github.io/gpf/0.2.6/gpf.js"></script>
		<script src="reveal.js"></script>
    </body>
</html>
