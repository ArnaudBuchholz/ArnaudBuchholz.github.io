<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="description" content="reserve, Lightweight http server statically configurable using regular expressions">
		<meta name="author" content="Arnaud Buchholz">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<meta name="deck-duration" content="25">
		<link rel="stylesheet" type="text/css" href="styles.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<table>
							<tr>
								<td width="50%">
									<small>
										<a href="https://en.wikipedia.org/wiki/Mont_M%C3%A9gantic_Observatory">Mont MÃ©gantic Observatory
											<img src="reserve/mont megantic.jpg" style="border-radius: 16px;"></img>
										</a>
									</small>
								</td>
								<td style="vertical-align: top;">
									<h3 data-agenda="no"><strong>REserve</strong></h3>
									<p>
									  A <strong>lightweight</strong>, <strong>embeddable</strong> and <strong>extendable</strong> web server statically <strong>configurable</strong> with regular expressions.
									</p>
									<br />
									<p>
										<small>
											Presented by <a href="https://github.com/ArnaudBuchholz">Arnaud Buchholz</a>
											<br/>
	  										Presentation made with <a href="https://github.com/hakimel/reveal.js">Reveal.js</a>
										</small>
									</p>
								</td>
							</tr>
						</table>
					</section>
					<section include="me.html"></section>
					<section>
						<h3 data-agenda="no"><strong>Agenda</strong></h3>
						<ul id="agenda"></ul>
					</section>
				</section>
				<section>
					<section>
						<h3><strong>R</strong>ational</h3>
						<q>Why reinventing the wheel again ?</q>
						<br />
						<br />
						<img src="reserve/wheel.gif" />
					</section>
				 	<section>
						<h4>Which <strong>package</strong> do you use...</h4>
						<p>...To serve <strong>static files</strong>,<br />
							<strong>experiment</strong> or build a <strong>minimalistic</strong> service ?</p>
						<ul>
<script>

function gitHubProjectTemplate () {/*
	<a href="https://www.npmjs.com/package/PACKAGE">PACKAGE</a>
	<img src="https://img.shields.io/npm/dw/PACKAGE.svg" />
	<a href="https://npm.anvaka.com/#/view/2d/PACKAGE">
		<img src="https://img.shields.io/david/ACCOUNT/PACKAGE.svg" />
	</a>
	<a href="https://packagephobia.now.sh/result?p=PACKAGE">
		<img src="https://packagephobia.now.sh/badge?p=PACKAGE" />
	</a>
*/}

function templateToString (template) {
	return /\/\*((?:[^*]|\*[^/])+)\*\//.exec(template.toString())[1];
}

(function () {
	var templateString = templateToString(gitHubProjectTemplate);
	"expressjs/express,zeit/serve,lwsjs/local-web-server,franciscop/server"
		.split(",")
		.forEach(function (packagePath) {
			var parts = packagePath.split("/");
			document.write("<li>" + templateString
				.replace(/PACKAGE/g, parts[1])
				.replace(/ACCOUNT/g, parts[0])
			+ "</li>");
		});
}())
</script>
						</ul>
					</section>
					<section>
						<h4>What it <strong>feels</strong> like...</h4>
						<img src="reserve/wrong tool.gif" />
					</section>
				</section>
				<section>
					<section>
						<h3>D<strong>E</strong>mo</h3>
					</section>
				</section>
				<section>
					<section>
						<h3>T<strong>E</strong>chnical details</h3>
					</section>
					<section>
						<h4>Implementation in a nutshell</h4>
						<p>TAM diagram showing: agents: HTTP server, dispatcher, handlers (list of)
							Storage is file system, web and configuration</p>
					</section>
					<section>
						<h4>Handlers</h4>
						<p>Each handler exposes a <code>redirect</code> method receiving <strong>request details</strong>
							and returning a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><strong>Promise</strong></a></p>
						<br />
						<ul>
<script>
(function () {
	function template () {/*
							<li>
								<a href="https://github.com/ArnaudBuchholz/reserve/blob/master/handlers/HANDLER.js">HANDLER</a> : EXPLANATION
							</li>
	*/}
	var templateString = templateToString(template),
		explanations = {
			custom: "enables <strong>custom</strong> handlers",
			status: "<strong>ends</strong> the request with a given status",
			file: "answers the request using <strong>file system</strong>",
			url: "answers the request by <strong>forwarding</strong> it to a different URL"
		};
	"custom,status,file,url"
		.split(",")
		.forEach(function (handler) {
			document.write(templateString
				.replace(/HANDLER/g, handler)
				.replace("EXPLANATION", explanations[handler])
			);
		});
}())
</script>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h3>T<strong>E</strong>sts and mocking</h3>
					</section>
					<section>
						<h4>Basic testing</h4>
						<ul>
							<li><code>mappings.json</code></li>
							<li><code>assertions.js</code></li>
							<li><code>index.html</code></li>
							<li><code>all.js</code></li>
						</ul>
					</section>
					<section>
						<h4>In-depth testing</h4>
						<p>mocha<p>
					</section>
					<section>
						<h4>In-depth testing</h4>
						<p>Mocking fs, response, request & http</p>
						boblauer/mock-require
					</section>
					<section>
						<h4>Code coverage with Istanbul</h4>
						<p>and nyc</p>
					</section>
					<section>
						<h4>Continous integration</h4>
					</section>
					<section>
						<h4>Coveralls</h4>
					</section>
					<section>
						<h4>Code climate</h4>
					</section>
				</section>
			</div>
		</div>
		<script src="/gpf/0.2.9/gpf.js"></script>
		<script src="deck.js"></script>
	</body>
</html>
