<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: context.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: context.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file Context management
 * @since 0.1.5
 */
/*#ifndef(UMD)*/
"use strict";
/*global _gpfMainContext*/ // Main context object
/*exported _gpfContext*/ // Resolve contextual string
/*#endif*/

function _gpfGetObjectProperty (parent, name) {
    if (undefined !== parent) {
        return parent[name];
    }
}

function _gpfGetOrCreateObjectProperty (parent, name) {
    var result = parent[name];
    if (undefined === result) {
        result = parent[name] = {};
    }
    return result;
}

// Apply reducer on path
function _gpfReduceContext (path, reducer) {
    var rootContext;
    if (path[0] === "gpf") {
        rootContext = gpf;
        path = path.slice(1);
    } else {
        rootContext = _gpfMainContext;
    }
    return path.reduce(reducer, rootContext);
}

/**
 * Result of {@link gpf.context} call, depends on the specified path
 * - when not specified, it returns the current host main context object
 * - when `"gpf"`, it **always** returns the GPF object
 * - when it leads to nothing, `undefined` is returned

 * @typedef {*} gpfTypeContextResult
 * @since 0.1.5
 */

/**
 * Resolve the provided contextual path and returns the result
 *
 * @param {String[]} path Array of identifiers
 * @param {Boolean} [createMissingParts=false] If the path includes undefined parts and createMissingParts is true,
 * it allocates a default empty object. This allows building namespaces on the fly.
 *
 * @return {gpfTypeContextResult} Resolved path
 * @since 0.1.5
 */
function _gpfContext (path, createMissingParts) {
    var reducer;
    if (createMissingParts) {
        reducer = _gpfGetOrCreateObjectProperty;
    } else {
        reducer = _gpfGetObjectProperty;
    }
    return _gpfReduceContext(path, reducer);
}

/**
 * Resolve the provided contextual path and returns the result.
 *
 * @param {String} path Dot separated list of identifiers
 *
 * @return {gpfTypeContextResult} Resolved path
 * @since 0.1.5
 */
gpf.context = function (path) {
    if (undefined === path) {
        return _gpfMainContext;
    }
    return _gpfContext(path.split("."));
};

/*#ifndef(UMD)*/

gpf.internals._gpfContext = _gpfContext;

/*#endif*/
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="gpf.Error.html">Error</a></li><li><a href="gpf.Error.AbstractMethod.html">AbstractMethod</a></li><li><a href="gpf.Error.AssertionFailed.html">AssertionFailed</a></li><li><a href="gpf.Error.InvalidParameter.html">InvalidParameter</a></li><li><a href="gpf.Error.NotImplemented.html">NotImplemented</a></li></ul><h3>Namespaces</h3><ul><li><a href="gpf.html">gpf</a></li><li><a href="gpf.node.html">node</a></li><li><a href="gpf.web.html">web</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-CODESTYLE.html">CODESTYLE</a></li><li><a href="tutorial-COMPATIBILITY.html">COMPATIBILITY</a></li><li><a href="tutorial-LOADING.html">LOADING</a></li></ul><h3>Global</h3><ul><li><a href="global.html#abstractMethod">abstractMethod</a></li><li><a href="global.html#assertionFailed">assertionFailed</a></li><li><a href="global.html#invalidParameter">invalidParameter</a></li><li><a href="global.html#notImplemented">notImplemented</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Mon Nov 21 2016 22:58:44 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
