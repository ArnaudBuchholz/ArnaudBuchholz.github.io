<html>
    <head>
        <meta charset="utf-8">
        <title>chrome-extension-url-mapper</title>
        <script language="JavaScript" src="jquery-2.2.0.min.js"></script>
        <script language="JavaScript" src="index.js"></script>
        <script language="JavaScript">

function on$Ajax () {
    $.ajax("index.json?jquery", {
        dataType: "json",
        complete: function (xhr, textStatus) {
            alert(textStatus);
        }
    });
}

function onXHR (corsEnabled) {
    // Chrome extension runs... in Chrome
    var xhr = new XMLHttpRequest();
    if (undefined === corsEnabled) {
        xhr.open("GET", "index.json?xhr");
    } else {
        xhr.open("GET", "index.json?xhr", corsEnabled);
    }
    xhr.onreadystatechange = function() {
        if (4 === xhr.readyState) {
            alert(xhr.statusText);
        }
    };
    xhr.send();
}

        </script>
    </head>
    <body>
        <img src="thumbs-up.png">
        <script language="JavaScript">
            injectCode();
        </script>
        <button onclick="on$Ajax()">$.ajax test</button>
        <button onclick="onXHR()">XMLHttpRequest simple</button>
        <button onclick="onXHR(false)">XMLHttpRequest synchronous</button>
        <button onclick="onXHR(true)">XMLHttpRequest with CORS</button>
    </body>
</html>
